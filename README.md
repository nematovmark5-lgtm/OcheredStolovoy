# Система управления столовой

В РАЗРАБОТКЕ ПРОЕКТА УЧАСТВОВАЛ: Нематов Марк

## Описание

Система управления столовой — это инновационное веб-приложение для автоматизации процессов заказа, приготовления и выдачи еды в столовой. Система состоит из трех основных модулей: оформление заказов, мониторинг кухни и окно выдачи заказов.

## Основные возможности

### Пользовательский интерфейс
- Современный дизайн с анимированными переходами
- Адаптивная верстка для всех типов устройств
- Интуитивная навигация
- Визуальные карточки для отображения блюд и заказов

### Модуль оформления заказов
- Создание заказов с выбором блюд и напитков
- Ограничение по одному блюду и одному напитку
- Анимированная корзина с визуальными эффектами
- Автоматическая генерация номеров заказов
- Процесс имитации оплаты

### Монитор кухни
- Отслеживание заказов в реальном времени
- Таймеры приготовления с индикаторами
- Управление статусами заказов
- Сортировка по номеру или времени
- Прогресс-бары приготовления

### Окно выдачи заказов
- Раздельное отображение по статусам
- Звуковые оповещения о готовых заказах
- Автоматическое обновление каждые 2 секунды
- Визуальное выделение новых заказов

## Технологический стек

### Backend
- Python 3.8+
- Flask 2.3+
- MySQL Connector
- Flask-CORS

### Frontend
- HTML5
- CSS3
- JavaScript (ES6+)
- Font Awesome

### База данных
- MySQL 8.0+
- Таблица orders:
  - id INT AUTO_INCREMENT PRIMARY KEY
  - number_order INT NOT NULL UNIQUE
  - food VARCHAR(255) NOT NULL
  - drink VARCHAR(255) NOT NULL
  - status ENUM
  - order_time TIMESTAMP

## Установка и запуск

### Предварительные требования
- Python 3.8+
- MySQL 8.0+
- Установленный pip

### Шаги установки

1. Установите зависимости:
pip install flask mysql-connector-python flask-cors

2. Настройте базу данных:
CREATE DATABASE stolovaya;
CREATE USER 'Mark'@'localhost' IDENTIFIED BY '0987654321';
GRANT ALL PRIVILEGES ON stolovaya.* TO 'Mark'@'localhost';

3. Создайте таблицу:
USE stolovaya;
CREATE TABLE orders (
    id INT AUTO_INCREMENT PRIMARY KEY,
    number_order INT NOT NULL UNIQUE,
    food VARCHAR(255) NOT NULL,
    drink VARCHAR(255) NOT NULL,
    status ENUM('Готовится', 'Готово', 'Отдал заказ') DEFAULT 'Готовится',
    order_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

4. Запустите сервер:
python СЕРВЕР.py

5. Откройте в браузере:
- Оформления_Талона.html
- Кухня.html
- Окно_заказов.html

## API Endpoints

### Основные endpoints
- GET /api/last_order - получение следующего номера заказа
- POST /api/order - создание нового заказа
- GET /api/orders - получение всех заказов
- GET /api/kitchen_orders - заказы для монитора кухни
- POST /api/mark_ready - отметка заказа как готового
- POST /api/complete_order - завершение заказа

### Примеры использования

Создание заказа:
POST /api/order
{
    "food": "Суп куриный",
    "drink": "Компот вишнёвый"
}

Отметка как готового:
POST /api/mark_ready
{
    "order_number": 101
}

## Структура проекта

stolovaya_system/
├── СЕРВЕР.py
├── Оформления_Талона.html
├── Кухня.html
├── Окно_заказов.html
├── gotov.mp3
└── README.md

## Особенности реализации

### Алгоритм нумерации заказов
- Начинается с номера 100
- Автоматический поиск свободного номера
- Учет удаленных и завершенных заказов
- Гарантия уникальности номеров

### Обработка реального времени
- Автообновление каждые 2 секунды
- Мгновенная синхронизация статусов
- Эффективная обработка конкурентных операций

### Безопасность
- Валидация входных данных
- Защита от SQL-инъекций
- Обработка ошибок
- Graceful degradation при потере соединения

## Конфигурация

### Настройки сервера
host='localhost'
user='Mark'
password='0987654321'
database='stolovaya'
host='0.0.0.0'
port=5000
debug=True

### Сетевые настройки
- Базовый URL: http://192.168.1.215:5000
- Интервал обновления: 2000 мс

## Лицензия

MIT License - свободное использование и модификация
